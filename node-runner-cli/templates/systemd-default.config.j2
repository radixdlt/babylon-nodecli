# WARNING!! This file is automatically generated and it is
# overriden when on install/update commands.
# Please consider re-running config/install commands rather
# than manually edit this file

ntp=false
ntp.pool=pool.ntp.org
network.id={{common_config.network_id}}
{% if common_config.genesis_bin_data_file is not none %}
network.genesis_data_file={{common_config.genesis_bin_data_file}}
{% endif %}

node.key.path={{core_node.keydetails.keyfile_path ~ '/' ~ core_node.keydetails.keyfile_name }}
node.key.create_if_missing=true

network.p2p.broadcast_port=30000
network.p2p.listen_port=30001
network.p2p.seed_nodes={{core_node.trusted_node}}
network.p2p.use_proxy_protocol={{core_node.use_proxy_protocol or 'false'}}
network.host_ip={{common_config.host_ip}}

log.level=debug

api.port={{core_node.core_api_port}}
api.transactions.enable=true
api.sign.enable=true
api.bind.address=0.0.0.0

api.system.port={{core_node.system_api_port}}
api.system.bind_address=0.0.0.0

db.location=/home/radixdlt/babylon-ledger

{% if core_node.validator_address is defined and core_node.validator_address is not none %}
consensus.validator_address={{core_node.validator_address}}
{% endif %}

{% if migration.use_olympia is defined %}
{% if migration.use_olympia %}
genesis.use_olympia={{migration.use_olympia}}
genesis.olympia.node_end_state_api_url={{migration.olympia_node_url}}
genesis.olympia.node_end_state_api_auth_user={{migration.olympia_node_auth_user}}
genesis.olympia.node_end_state_api_auth_password={{migration.olympia_node_auth_password}}
genesis.olympia.node_bech32_address={{migration.olympia_node_bech32_address}}
{% endif %}
{% endif %}


{% if core_node.engine_state_enabled %}
api.engine_state.port={{core_node.engine_state_api_port}}
api.engine_state.bind_address={{core_node.engine_state_api_address}}
db.re_node_listing_indices.enable={{core_node.engine_state_enabled}}
db.historical_substate_values.enable={{core_node.engine_state_enabled}}
state_hash_tree.state_version_history_length=60000
{% endif %}
